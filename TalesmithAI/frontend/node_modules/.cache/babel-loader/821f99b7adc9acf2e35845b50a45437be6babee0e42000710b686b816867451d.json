{"ast":null,"code":"// frontend/src/components/SearchBox.jsx\nimport React,{useState,useRef}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSearch}from'@fortawesome/free-solid-svg-icons';import axiosInstance from'./axiosSetup';import'./SearchBox.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBox=_ref=>{let{onSearch}=_ref;const[searchQuery,setSearchQuery]=useState('');const[response,setResponse]=useState('');const inputRef=useRef(null);const handleSearchInputChange=event=>{const query=event.target.value;setSearchQuery(query);// Dynamically adjust input height based on scroll height\ninputRef.current.style.height='auto';inputRef.current.style.height=inputRef.current.scrollHeight+'px';};const handleSearch=async()=>{try{const res=await axiosInstance.post('/api/chat/',{message:searchQuery});setResponse(res.data.choices[0].message.content);}catch(error){console.error('Error fetching response:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-box-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-box-wrapper\",children:[/*#__PURE__*/_jsx(\"textarea\",{ref:inputRef,value:searchQuery,onChange:handleSearchInputChange,className:\"search-input\",placeholder:\"Start Chat Here...\",style:{width:'700px'}// Adjust width as needed\n}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:\"search-button\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,className:\"search-icon\"})})]}),response&&/*#__PURE__*/_jsx(\"div\",{className:\"response-box\",children:/*#__PURE__*/_jsx(\"p\",{children:response})})]});};export default SearchBox;","map":{"version":3,"names":["React","useState","useRef","FontAwesomeIcon","faSearch","axiosInstance","jsx","_jsx","jsxs","_jsxs","SearchBox","_ref","onSearch","searchQuery","setSearchQuery","response","setResponse","inputRef","handleSearchInputChange","event","query","target","value","current","style","height","scrollHeight","handleSearch","res","post","message","data","choices","content","error","console","className","children","ref","onChange","placeholder","width","onClick","icon"],"sources":["C:/Users/hp/Desktop/fyp/TalesmithAI/frontend/src/SearchBox.jsx"],"sourcesContent":["// frontend/src/components/SearchBox.jsx\r\nimport React, { useState, useRef } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport axiosInstance from './axiosSetup';\r\nimport './SearchBox.css';\r\n\r\nconst SearchBox = ({ onSearch }) => {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [response, setResponse] = useState('');\r\n    const inputRef = useRef(null);\r\n\r\n    const handleSearchInputChange = (event) => {\r\n        const query = event.target.value;\r\n        setSearchQuery(query);\r\n        // Dynamically adjust input height based on scroll height\r\n        inputRef.current.style.height = 'auto';\r\n        inputRef.current.style.height = inputRef.current.scrollHeight + 'px';\r\n    };\r\n\r\n    const handleSearch = async () => {\r\n        try {\r\n            const res = await axiosInstance.post('/api/chat/', { message: searchQuery });\r\n            setResponse(res.data.choices[0].message.content);\r\n        } catch (error) {\r\n            console.error('Error fetching response:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"search-box-container\">\r\n            <div className=\"search-box-wrapper\">\r\n                <textarea\r\n                    ref={inputRef}\r\n                    value={searchQuery}\r\n                    onChange={handleSearchInputChange}\r\n                    className=\"search-input\"\r\n                    placeholder=\"Start Chat Here...\"\r\n                    style={{ width: '700px' }} // Adjust width as needed\r\n                />\r\n                <button onClick={handleSearch} className=\"search-button\">\r\n                    <FontAwesomeIcon icon={faSearch} className=\"search-icon\" />\r\n                </button>\r\n            </div>\r\n            {response && (\r\n                <div className=\"response-box\">\r\n                    <p>{response}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchBox;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC/C,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,QAAQ,KAAQ,mCAAmC,CAC5D,MAAO,CAAAC,aAAa,KAAM,cAAc,CACxC,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAgB,QAAQ,CAAGf,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAgB,uBAAuB,CAAIC,KAAK,EAAK,CACvC,KAAM,CAAAC,KAAK,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAChCR,cAAc,CAACM,KAAK,CAAC,CACrB;AACAH,QAAQ,CAACM,OAAO,CAACC,KAAK,CAACC,MAAM,CAAG,MAAM,CACtCR,QAAQ,CAACM,OAAO,CAACC,KAAK,CAACC,MAAM,CAAGR,QAAQ,CAACM,OAAO,CAACG,YAAY,CAAG,IAAI,CACxE,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAvB,aAAa,CAACwB,IAAI,CAAC,YAAY,CAAE,CAAEC,OAAO,CAAEjB,WAAY,CAAC,CAAC,CAC5EG,WAAW,CAACY,GAAG,CAACG,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACF,OAAO,CAACG,OAAO,CAAC,CACpD,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CACpD,CACJ,CAAC,CAED,mBACIzB,KAAA,QAAK2B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACjC5B,KAAA,QAAK2B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/B9B,IAAA,aACI+B,GAAG,CAAErB,QAAS,CACdK,KAAK,CAAET,WAAY,CACnB0B,QAAQ,CAAErB,uBAAwB,CAClCkB,SAAS,CAAC,cAAc,CACxBI,WAAW,CAAC,oBAAoB,CAChChB,KAAK,CAAE,CAAEiB,KAAK,CAAE,OAAQ,CAAG;AAAA,CAC9B,CAAC,cACFlC,IAAA,WAAQmC,OAAO,CAAEf,YAAa,CAACS,SAAS,CAAC,eAAe,CAAAC,QAAA,cACpD9B,IAAA,CAACJ,eAAe,EAACwC,IAAI,CAAEvC,QAAS,CAACgC,SAAS,CAAC,aAAa,CAAE,CAAC,CACvD,CAAC,EACR,CAAC,CACLrB,QAAQ,eACLR,IAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAC,QAAA,cACzB9B,IAAA,MAAA8B,QAAA,CAAItB,QAAQ,CAAI,CAAC,CAChB,CACR,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAL,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}